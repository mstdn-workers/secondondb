# 社畜丼-外部DB --secondondb--
ローカルタイムライン(LTL)を取得してきて保存します。  
取得と同時に外部のBOTなどにLTLの更新を通知する機能も付ける。 
通知先管理用のポータルも作る。  
ポータル用の丼認証機能も付ける。  

## 雑な設計
 - (ストリーム取得鯖)丼に接続し、ストリームを流してもらう  
 - (同)ハートビート最終確認時刻を変数に保存  
 - (同)update 又はdelete受信時、DBを更新する  
 - (DB)更新をhook送信鯖に更新を通知  
 - (hook送信鯖)DBからの通知を受信  
 - (同)hook先登録DBからhook先一覧取得  
 - (同)toot情報を暗号化し、hook先にpost送信  
 - (hook受信側システム)受信したデータを復号し、利活用  

## タスク

- [x] LTL取得機能
- [x] LTL再接続機構
- [ ] データベース
- [ ] 認証機能
- [ ] 管理ポータル

## 中身
### get_stream
LTLからストリームを受け取るやつ。  
pythonで動く。  
丼ホスト名とか、アクセストークンとか、そういうのは環境変数で入れ込む。  
